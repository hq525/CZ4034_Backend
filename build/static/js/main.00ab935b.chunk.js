(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),i=n.n(s),o=(n(103),n(49)),r=n(14),l=(n(104),n(196)),j=n(180),b=n(173),u=n(176),d=n(177),O=n(190),x=n(181),h=n(179),g=n(131),v=n(182),f=n(200),m=n(183),p=n(35),w=n(184),y=n(185),S=n(186),C=n(195),N=n(194),A=n(187),F=n(188),k=n(130),P=n(198),I=n(189),D=n(192),R=n(197),U=n(191),q=n(83),L=n.n(q),T=n(87),B=n.n(T),z=n(167),M=n(84),G=n.n(M),J=n(74),E=n(75),H=n(76),W=n.n(H),Z=function(){function e(){Object(J.a)(this,e)}return Object(E.a)(e,[{key:"get",value:function(e){return new Promise((function(t,n){W.a.get(e).then((function(e){t(e.data)})).catch((function(e){n(e.response)}))}))}}]),e}(),_="http://35.240.203.21:8080/http://35.240.203.21:8983",K=n(85),Q=n.n(K),V=n(86),X=n.n(V),Y=n(4),$=["All","ArtScience Museum at Marina Bay Sands","Gardens by the Bay","Jurong Bird Park","National Orchid Garden","Singapore Cable Car","Flower Dome","National Museum of Singapore","Sands Skypark Observation Deck","Singapore Botanic Gardens","Asian Civilisations Museum","Singapore Flyer","Singapore Zoo","Supertree Grove","Cloud Forest","Night Safari","Jewel Changi Airport"],ee=Object(z.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},root:{width:"60vw",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));var te=function(){var e=ee(),t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],i=n[1],q=Object(c.useState)(!1),T=Object(r.a)(q,2),z=T[0],M=T[1],J=a.a.useState(!1),E=Object(r.a)(J,2),H=E[0],W=E[1],K=Object(c.useState)(!1),V=Object(r.a)(K,2),te=V[0],ne=V[1],ce=Object(c.useState)(""),ae=Object(r.a)(ce,2),se=ae[0],ie=ae[1],oe=Object(c.useState)(""),re=Object(r.a)(oe,2),le=re[0],je=re[1],be=Object(c.useState)([]),ue=Object(r.a)(be,2),de=ue[0],Oe=ue[1],xe=Object(c.useState)(10),he=Object(r.a)(xe,2),ge=he[0],ve=he[1],fe=Object(c.useState)(0),me=Object(r.a)(fe,2),pe=me[0],we=me[1],ye=Object(c.useState)(0),Se=Object(r.a)(ye,2),Ce=Se[0],Ne=Se[1],Ae=Object(c.useState)("none"),Fe=Object(r.a)(Ae,2),ke=Fe[0],Pe=Fe[1],Ie=Object(c.useState)("desc"),De=Object(r.a)(Ie,2),Re=De[0],Ue=De[1],qe=Object(c.useState)("All"),Le=Object(r.a)(qe,2),Te=Le[0],Be=Le[1],ze=Object(c.useState)("All"),Me=Object(r.a)(ze,2),Ge=Me[0],Je=Me[1],Ee=Object(c.useState)("All"),He=Object(r.a)(Ee,2),We=He[0],Ze=He[1],_e=a.a.useState(!1),Ke=Object(r.a)(_e,2),Qe=Ke[0],Ve=Ke[1],Xe=a.a.useState(""),Ye=Object(r.a)(Xe,2),$e=Ye[0],et=Ye[1],tt=a.a.useState(!1),nt=Object(r.a)(tt,2),ct=nt[0],at=nt[1];Object(c.useEffect)((function(){z&&i([{term:"Loading..."}])}),[z]);var st=function(e){return"none"!==ke&&(e+="&sort=".concat(ke," ").concat(Re)),"All"!==Te&&(e+="&fq=sentimentCategory:".concat(Te)),"All"!==Ge&&(e+='&fq=attractionName:"'.concat(Ge,'"')),"All"!==We&&(e+="&fq=usefulness:".concat(We)),e},it=function(e){ne(!0),(new Z).get(st("".concat(_,"/solr/reviews/select?q=").concat(le||"*:*","&rows=").concat(ge,"&start=").concat(e))).then((function(t){we(e),Oe(t.response.docs),Ne(t.response.numFound-1),ne(!1)})).catch((function(e){ot("Something went wrong"),ne(!1)}))},ot=function(e){et(e),Ve(!0)},rt=function(){Ve(!1)},lt=function(e,t){(ie(e.target.value),""===e.target.value)?i([]):(M(!0),(new Z).get("".concat(_,"/solr/reviews/suggest?q=").concat(e.target.value,"&rows=10")).then((function(t){M(!1),i(t.suggest.mySuggester["".concat(e.target.value)].suggestions)})).catch((function(e){M(!1),i([])})))};return Object(Y.jsxs)("div",{className:"App",children:[Object(Y.jsxs)("div",{className:"Body",children:[Object(Y.jsx)("div",{style:{marginTop:"10px"}}),Object(Y.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"60vw",border:"1px solid",padding:"10px",borderColor:"black"},children:[Object(Y.jsx)(U.a,{style:{width:"100%"},freeSolo:!0,open:H,onOpen:function(){W(!0)},onClose:function(){W(!1)},disableClearable:!0,value:se,onChange:function(e,t){ie(t)},options:s.map((function(e){return e.term})),loading:z,renderInput:function(e){return Object(Y.jsx)(l.a,Object(o.a)(Object(o.a)({style:{margin:"0px"}},e),{},{label:"Search",margin:"normal",variant:"outlined",value:se,onChange:lt,InputProps:Object(o.a)(Object(o.a)({},e.InputProps),{},{type:"search",endAdornment:Object(Y.jsxs)(a.a.Fragment,{children:[z?Object(Y.jsx)(j.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}),Object(Y.jsx)(b.a,{onClick:function(){ne(!0),(new Z).get(st("".concat(_,"/solr/reviews/select?q=").concat(se||"*:*","&rows=").concat(ge,"&start=0"))).then((function(e){we(0),je(se),Oe(e.response.docs),Ne(e.response.numFound-1),ne(!1)})).catch((function(e){ot("Something went wrong"),ne(!1)}))},children:Object(Y.jsx)(L.a,{})})]}),Object(Y.jsxs)("div",{style:{width:"60vw",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(Y.jsx)("h1",{children:"Reviews"}),Object(Y.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(Y.jsxs)(u.a,{variant:"outlined",className:e.formControl,children:[Object(Y.jsx)(d.a,{children:"Rows"}),Object(Y.jsxs)(O.a,{value:ge,onChange:function(e){var t=ge;ve(e.target.value),ne(!0),(new Z).get(st("".concat(_,"/solr/reviews/select?q=").concat(le||"*:*","&rows=").concat(e.target.value,"&start=0"))).then((function(e){we(0),Oe(e.response.docs),Ne(e.response.numFound-1),ne(!1)})).catch((function(e){ot("Something went wrong"),ve(t),ne(!1)}))},label:"Rows",children:[Object(Y.jsx)(x.a,{value:5,children:"5"}),Object(Y.jsx)(x.a,{value:10,children:"10"}),Object(Y.jsx)(x.a,{value:20,children:"20"})]})]}),Object(Y.jsx)(b.a,{onClick:function(){at(!0)},children:Object(Y.jsx)(G.a,{})})]})]}),te?Object(Y.jsx)("div",{style:{width:"100%",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Y.jsx)(j.a,{size:50})}):Object(Y.jsx)(h.a,{className:e.root,children:de.map((function(t){return Object(Y.jsxs)(g.a,{button:!0,disableRipple:!0,alignItems:"flex-start",children:[Object(Y.jsx)(v.a,{children:Object(Y.jsx)(f.a,{src:t.reviewerProfilePicURL})}),Object(Y.jsx)(m.a,{primary:Object(Y.jsxs)(a.a.Fragment,{children:[Object(Y.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(Y.jsx)(p.a,{component:"span",variant:"body1",className:e.inline,color:"textPrimary",children:Object(Y.jsx)("b",{children:t.reviewTitle})}),Object(Y.jsx)(R.a,{value:t.ratings/10,readOnly:!0})]}),Object(Y.jsx)("em",{children:t.attractionName})]}),secondary:Object(Y.jsxs)(a.a.Fragment,{children:[Object(Y.jsxs)(p.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:["Reviewed by ",t.reviewerName," on ",new Date(t.reviewDate).toLocaleDateString()]}),Object(Y.jsx)("div",{}),t.reviewText,Object(Y.jsx)("div",{style:{marginTop:"5px"}}),Object(Y.jsx)(w.a,{href:t.reviewURL,children:t.reviewURL}),Object(Y.jsx)("div",{style:{marginTop:"10px"}}),Object(Y.jsx)(y.a,{variant:"extended",children:Object(Y.jsx)("b",{children:"Useful"})}),Object(Y.jsx)("span",{style:{marginLeft:"20px"},children:Object(Y.jsx)(y.a,{variant:"extended",children:Object(Y.jsx)("b",{children:"Not Useful"})})})]})})]},t.id)}))}),!te&&Object(Y.jsx)(S.a,{variant:"middle"}),!te&&de.length>0&&Object(Y.jsxs)("div",{children:[Object(Y.jsxs)("h5",{children:["Displaying ",pe+1," to ",pe+ge>Ce?Ce+1:pe+ge," of ",Ce+1," reviews."]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(b.a,{onClick:function(){it(pe-ge)},disabled:0===pe,children:Object(Y.jsx)(Q.a,{})}),Object(Y.jsx)(b.a,{onClick:function(){it(pe+ge)},disabled:pe+ge>Ce,children:Object(Y.jsx)(X.a,{})})]})]})]}),Object(Y.jsx)("div",{style:{marginTop:"10px"}}),Object(Y.jsx)(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Qe,autoHideDuration:6e3,onClose:rt,message:$e,action:Object(Y.jsx)(a.a.Fragment,{children:Object(Y.jsx)(b.a,{size:"small","aria-label":"close",color:"inherit",onClick:rt,children:Object(Y.jsx)(B.a,{fontSize:"small"})})})}),Object(Y.jsxs)(N.a,{onClose:function(){(at(!1),de.length>0)&&(ne(!0),(new Z).get(st("".concat(_,"/solr/reviews/select?q=").concat(le||"*:*","&rows=").concat(ge,"&start=0"))).then((function(e){we(0),Oe(e.response.docs),Ne(e.response.numFound-1),ne(!1)})).catch((function(e){ot("Something went wrong"),ne(!1)})))},open:ct,children:[Object(Y.jsx)(A.a,{children:Object(Y.jsx)("b",{children:"Sort"})}),Object(Y.jsxs)(F.a,{dividers:!0,children:[Object(Y.jsxs)(u.a,{variant:"outlined",className:e.formControl,children:[Object(Y.jsx)(d.a,{children:"Criteria"}),Object(Y.jsxs)(O.a,{value:ke,onChange:function(e){Pe(e.target.value)},label:"Criteria",children:[Object(Y.jsx)(x.a,{value:"none",children:"None"}),Object(Y.jsx)(x.a,{value:"ratings",children:"Ratings"}),Object(Y.jsx)(x.a,{value:"compoundScore",children:"Sentiment"}),Object(Y.jsx)(x.a,{value:"usefulness_score",children:"Usefulness"})]})]}),Object(Y.jsx)("div",{}),Object(Y.jsxs)(u.a,{component:"fieldset",className:e.formControl,children:[Object(Y.jsx)(k.a,{component:"legend",children:"Direction"}),Object(Y.jsxs)(P.a,{value:Re,onChange:function(e){Ue(e.target.value)},children:[Object(Y.jsx)(I.a,{value:"desc",control:Object(Y.jsx)(D.a,{}),label:"Descending"}),Object(Y.jsx)(I.a,{value:"asc",control:Object(Y.jsx)(D.a,{}),label:"Ascending"})]})]})]}),Object(Y.jsx)(A.a,{children:Object(Y.jsx)("b",{children:"Filter"})}),Object(Y.jsxs)(F.a,{dividers:!0,children:[Object(Y.jsxs)(u.a,{component:"fieldset",className:e.formControl,children:[Object(Y.jsx)(k.a,{component:"legend",children:"Sentiment"}),Object(Y.jsxs)(P.a,{value:Te,onChange:function(e){Be(e.target.value)},children:[Object(Y.jsx)(I.a,{value:"All",control:Object(Y.jsx)(D.a,{}),label:"All"}),Object(Y.jsx)(I.a,{value:"Positive",control:Object(Y.jsx)(D.a,{}),label:"Postive"}),Object(Y.jsx)(I.a,{value:"Negative",control:Object(Y.jsx)(D.a,{}),label:"Negative"})]})]}),Object(Y.jsx)("div",{}),Object(Y.jsxs)(u.a,{component:"fieldset",className:e.formControl,children:[Object(Y.jsx)(k.a,{component:"legend",children:"Usefulness"}),Object(Y.jsxs)(P.a,{value:We,onChange:function(e){Ze(e.target.value)},children:[Object(Y.jsx)(I.a,{value:"All",control:Object(Y.jsx)(D.a,{}),label:"All"}),Object(Y.jsx)(I.a,{value:"useful",control:Object(Y.jsx)(D.a,{}),label:"Useful"}),Object(Y.jsx)(I.a,{value:"useless",control:Object(Y.jsx)(D.a,{}),label:"Not Useful"})]})]}),Object(Y.jsx)("div",{}),Object(Y.jsxs)(u.a,{variant:"outlined",className:e.formControl,children:[Object(Y.jsx)(d.a,{children:"Attraction"}),Object(Y.jsx)(O.a,{value:Ge,onChange:function(e){Je(e.target.value)},label:"Attraction",children:$.map((function(e){return Object(Y.jsx)(x.a,{value:"".concat(e),children:e})}))})]})]})]})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(te,{})}),document.getElementById("root")),ne()}},[[129,1,2]]]);
//# sourceMappingURL=main.00ab935b.chunk.js.map